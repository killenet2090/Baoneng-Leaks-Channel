# OTA

## 术语
- OTA： Over-The-Air空中下载升级技术
- TBOX:Telematics BOX 车载网络终端
- ECU: Electrical control unit 电子控制单元

## 概要
### 产品背景及目标

宝能汽车有限公司成立于2017年3月，是深圳市宝能投资集团有限公司旗下整车资源聚合和业务发展的平台。主要业务涵盖传统及新能源整车及核心零部件的研发、制造、销售与售后服务以及其他相关业务。致力于打造“研发-制造-销售-后市场”的完整产业链。

宝能汽车有限公司拥有几大生产基地和研究院，其中广州新能源汽车产业园位于黄浦区中新知识城九龙大道西侧，项目规划用地3.29平方公里，投资总额达300亿，规划产能每年50万台，预计2021年开始投产。

宝能汽车广州研究院是宝能汽车R&D体系的重要组成部分，负责中高端纯电动平台车型的研究与开发，开发车型服务于广州宝能汽车产业基地。广州基地主要布局中高端新能源汽车，打造高性能、高品质、低成本的G1电动专属平台，G1平台在5年内拟开发6款产品：2 款轿车（A+ 级GS16，B级GS18），3款SUV（A0+级GX14 / A+级GX16 / B级GX18），1 款MPV（A+级GM17）。针对G1平台首款量产车型GX16的SOP为2021.12。

随着汽车越来越智能化，电子模块和软件技术在整车上的应用程度也越来越高，为了提升对宝能汽车车主的服务质量，改善驾乘体验，及时高效的解决问题， 并降低运营成本，研究总院智能网联研究院规划开发 OTA 平台，实现针对整车ECU 软件的远程更新功能，并逐步应用到宝能汽车全系车型。 

本文档描述了 OTA 项目的产品功能需求，仅作为 OTA 平台项目负责人与研发参考。

### 产品定位
建设完整的宝汽 OTA 功能体系，设计合理的平台，满足不同车型、不同配置、不同电子电器架构下的 ECU 软件远程升级需求，支撑车辆新功能发布、性能优化及问题解决。

### 产品概述
OTA (Over-the-air) 用于实现通过远程通信的方式，借助3G/4G/5G,WIFI 等通信网络，更新车辆电控单元软件数据，以修复车辆软件缺陷，或改善车辆性能，或增加车辆功能等。

整车端升级主要流程分为三大阶段：

- 数据下载阶段；
- 安装升级覆盖阶段；
- 信息交互反馈。

本子系统涉及到的车内外功能组件如下： 

1. OTA 服务器； 
2. 手机APP； 
3. TBOX； 
4. HU
5. 其他待刷新ECU。

## 环境初始化


### 开始项目



### 构建项目



### 检查代码样式



自动修复:



### 测试代码



## 关于 Gitlab Flow

### 分支约定

#### 临时分支

开发完成后这些分支会被删除

- 功能分支 feature - 用于新功能的开发，建议以issue-feature-name命名
- 修复分支fix - 用户bug的修复，建议以issue-fix-name命名

### 固定分支

- 开发分支 master - 用于发布到测试环境，上游分支为 feature 和 fix，该分支为受保护分支
- 预发分支 pre-production - 用于发布到预发环境，上游分支为 master
- 正式分支 production - 用于发布到正式环境，上游分支为 pre-production

## 参考


